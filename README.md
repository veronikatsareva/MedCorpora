# MedCorpora

Проект создан в рамках курса «Автоматическая обработка естественного языка», 2024 год.

Участники: Анна Луценко, Дмитрий Волянский, Вероника Царева.

## Описание проекта

Данный проект представляет собой приложение, реализующее поиск по корпусу текстов. 

Корпус был создан на основе новостей сайта [Доктор Питер](https://doctorpiter.ru/).

Сайт с интерфейсом корпуса доступен по постоянной [ссылке](https://butyusya.pythonanywhere.com/).

Объем корпуса: ~10 тысяч предложений и ~146 тысяч словоупотреблений.

## Функционал корпуса

### Поиск

Поиск по корпусу доступен в четырех режимах:
  
  - поиск по `лемма` –– все предложения, в которых встречаются словоформы этой лексемы
  - поиск по `"словоформа"` –– все предложения, в которых встречается заданная словоформа
  - поиск по `POS-тег` –– все предложения, в которых встречается данная часть речи
  - поиск по `лемма+POS-тег` –– все предложения, в которых встречается словоформа, являющаяся заданной частью речи

В проекте используется частеречная разметка [Universal Dependencies](https://universaldependencies.org/u/pos/).

Доступен поиск N-грамм любой длины. Для поиска N-граммы необходимо ввести все токены через пробел, каждый токен должен быть в указанном выше формате.
Для корректной работы при поиске нескольких словоформ в одной N-грамме, каждая из них должна быть заключена в двойные кавычки.

### Интерфейс корпуса

На сайте две основные страницы: главная, на которой производится поиск, и страница с инструкцией по работе с поиском.

При выдаче результатов пользователю предоставляется все найденные предложения, а также их разборы. Разбор предложения –– предложение с выделенной в нем n-граммой, которая соответствует запросу пользователя.
Для каждого предложения есть ссылка на источник, кнопка для копирования примера.

Все результаты запроса можно скачать в csv-файл.

По каждому запросу предоставляется статистика: самые частотные токены, леммы и части речи, которые встретились в корпусе. 

## Структура репозитория
- **main.py** –– основной файл, запускающий работу сайта

- **search.py** –– файл с классом, который обрабатывает запрос пользователя и делает выдачу результатов

- **MedCorpora-short.csv** –– размеченный корпус медицинских новостей

- **requirements.txt** –– список необходимых модулей

- **Data_Preprocessing.ipynb** –– тетрадка с предобработкой и разметкой корпуса

- директория **templates** –– папка с html-шаблонами для рендера страниц
    - **base.html** –– шаблон для всех страниц
 
    - **errors.html** –– страница, на которую перенаправляется пользователь при возникновении ошибок
 
    - **help.html** –– инструкция по работе с корпусом

    - **main.html** –– главная страница

    - **no_result.html**  –– страница, на которую перенаправляется пользователь, если поиск по корпусу не дал результатов

    - **results.html** –– страница с результатами выдачи по запросу

    - **statistics.html** –– страница со собранной по запросу статистикой

- директория **static** –– css, png и файл для сохранения результатов выдачи

## Установка

Для корректной работы приложения необходимо установить модули из файла **requirements.txt**:

```bash
pip3 install -r requirements.txt 
```

## Локальный запуск

Для локальной работы корпуса необходимо установить модули из **requirements. txt** и запустить **main.py**.
